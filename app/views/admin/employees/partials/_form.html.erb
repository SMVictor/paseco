<div class="card-body">
  <div class="row form_fieldset">
    <div  class="col-12 p-3">
      <legend>Información General</legend>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Nombre Completo:</label>
      <%= form.text_field :name, id: "name", class: "form-control", placeholder: "Manuel Antonio Rodriguez Barrientos" %>
      <label id="name_error"></label>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Tipo de Identificación:</label>
      <%= form.select(:id_type, ["Nacional", "Pasaporte", "Residencia"], {include_blank: "Seleccione el tipo de identificación"}, { class: "form-control"}) %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Número de Identificación:</label>
      <%= form.text_field :identification, id: "identification", class: "form-control", placeholder: "307760366" %>
      <label id="identification_error"></label>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Sexo:</label>
      <%= form.select(:gender, ["Masculino", "Femenino"], {include_blank: "Seleccione el sexo"}, { class: "form-control" }) %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Fecha de Nacimiento:</label>
      <%= form.text_field :birthday, autocomplete: "off", class: "form-control", "data-date-format": 'dd/mm/yyyy', "data-provide": 'datepicker', "data-date-autoclose": true, "data-date-language": 'es', placeholder: "01/01/2020", id: "birthday" %>
    </div>
  </div>
  <div class="row form_fieldset">
    <div  class="col-12 p-3">
      <legend>Información de Contacto</legend>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Teléfono:</label>
      <%= form.text_field :phone, class: "form-control", placeholder: "8823-3115" %>
    </div>
    <div class="col-xl-4 col-lg-6 mt-2">
      <label for="">Teléfono Adicional:</label>
      <%= form.text_field :phone_1, class: "form-control", placeholder: "8823-3115" %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Contacto de Emergencia:</label>
      <%= form.text_field :emergency_contact, class: "form-control", placeholder: "Manuel Antonio Rodriguez Barrientos" %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Número de Emergencia:</label>
      <%= form.text_field :emergency_number, class: "form-control", placeholder: "8823-3115" %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label for="">Correo Electrónico:</label>
      <%= form.text_field :email, class: "form-control", placeholder: "jarias@pasecocr.com" %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
    <label>Provincia</label>
      <%= form.collection_select :province, Address.select('province').group('province').order(province: :asc), :province, :province, options = {include_blank: 'Seleccione una provincia'}, html_options = {class: "form-control", id: "province", onchange: "changeProvince()"} %>
    </div>
    <div class="col-xl-4 col-lg-6 mb-2 mt-2">
      <label id="canton_label" data-cantons="<%= Address.select('province', 'canton').group('province', 'canton').order(canton: :asc).to_json %>">Cantón</label>
      <%= form.collection_select :canton, Address.select('canton').group('canton').order(canton: :asc), :canton, :canton, options = {include_blank: 'Seleccione un cantón'}, html_options = {class: "form-control", id: "canton", onchange: "changeCanton()"} %>
    </div>
    <div class="col-xl-4 col-lg-6 mt-2">
      <label id="district_label" data-addresses="<%= Address.all.order(district: :asc).to_json %>">Distrito</label>
      <%= form.collection_select :district, Address.all.order(district: :asc), :district, :district, options = {include_blank: 'Seleccione un distrito'}, html_options = {class: "form-control", id: "district"} %>
    </div>
    <div class="col-xl-4 col-lg-6 mt-2">
      <label for="">Otras Señas</label>
      <%= form.text_field :other, class: "form-control", placeholder: "300 metros Este de la iglesia de Agua Caliente" %>
    </div>
  </div>
  <div class="row form_fieldset mt-4">
    <div  class="col-12 p-3">
      <legend>Información Financiera</legend>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Método de Pago</label>
      <%= form.select(:payment_method, ["Transferencia", "Efectivo", "Cheque"], {include_blank: "Seleccione el método de pago"}, { class: "form-control", id: "payment_method" }) %>
      <label id="payment_method_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Banco:</label>
      <%= form.select(:bank, ["BAC", "BNCR"], {include_blank: "Seleccione una entidad bancaria"}, { class: "form-control", id: "bank" }) %>
      <label id="bank_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Número de Cuenta:</label>
      <%= form.text_field :account, id: "account", class: "form-control", placeholder: "200-01-171-030528-4" %>
      <label id="account_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Cuenta Registrada</label><br>
      <%= form.check_box :registered_account, {} %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Propietario de la Cuenta:</label>
      <%= form.text_field :account_owner, class: "form-control", placeholder: "Manuel Antonio Rodriguez Barrientos" %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Identificación del Propietario:</label>
      <%= form.text_field :account_identification, class: "form-control", placeholder: "303330333" %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Número de SCCSS:</label>
      <%= form.text_field :ccss_number, class: "form-control", placeholder: "Número de SCCSS" %>
    </div>
  </div>
  <div class="row form_fieldset">
    <div  class="col-12 p-3">
      <legend>Información de Contratación</legend>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Pago del Seguro:</label>
      <%= form.select(:social_security, ["Porcentaje", "Monto", "Sin Seguro"], {include_blank: "Seleccione el tipo de seguro"}, {multiple: false, size: 3, class: "form-control", id: "social_security" }) %>
      <label id="social_security_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mt-2">
      <label for="">Cargo en la Empresa</label>
      <%= form.select(:position_ids, Position.all.order(name: :asc).collect {|t| [t.name, t.id]}, {include_blank: false}, {multiple: true, size: 3, class: "form-control", id: "selectRole"}) %>
      <label id="selectRole_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mt-2">
      <label for="">Puestos</label>
      <%= form.select(:stall_ids, Stall.where(active: true).order(name: :asc).collect {|t| [t.name, t.id]}, {include_blank: false}, {multiple: true, size: 3, class: "form-control", id: "stalls"}) %>
      <label id="stalls_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mt-2">
      <label for="">Sub Servicio</label>
      <%= form.select(:sub_service_ids, SubService.all.order(name: :asc).collect {|t| [t.name, t.id]}, {include_blank: false}, {multiple: true, size: 3, class: "form-control", id: "sub_service"}) %>
      <label id="sub_service_error"></label>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Viáticos:</label><br>
      <%= form.check_box :daily_viatical, {}, checked_value = "yes", unchecked_value = "not" %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">CCSS Completo:</label><br>
      <%= form.check_box :ccss_type, {}, checked_value = "yes", unchecked_value = "not" %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Activo:</label><br>
      <%= form.check_box :active %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Pensionado:</label><br>
      <%= form.check_box :retired %>
    </div>
    <div class="col-xl-3 col-lg-6 mb-2 mt-2">
      <label for="">Aguinaldo:</label><br>
      <%= form.check_box :has_christmas_bonus %>
    </div>
  </div>
  <div class="row form_fieldset">
    <div  class="col-12 mt-4 p-3">
      <legend>Historial de Contrataciones</legend>
    </div>
    <div class="col-12">
      <div class="col-12">
        <div class="row tbl_row mt-4">
          <%= form.fields_for :entries, @employee.entries.order(sortable_date: :DESC)  do |entry| %>
            <%= render 'admin/employees/entry_fields', f: entry %>
          <%end%>
        </div>
        <div class="row tbl_row" style="border: none;">
          <div class="col-12 text-center p-2 tbl_footer">
            <%= link_to_add_association ' + Agregar Contratación', form, :entries, data: { association_insertion_mode: '.entry.fields', partial: 'entry_fields'}, class: 'btn add_btn' %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row form_fieldset">
    <div  class="col-12 mt-4 p-3">
      <legend>Incapacidades</legend>
    </div>
    <div class="col-12">
      <div class="col-12">
        <div class="row tbl_row mt-4">
          <%= form.fields_for :disabilities, @employee.disabilities.order(start_date: :DESC) do |disability| %>
            <%= render 'admin/employees/disability_fields', f: disability %>
          <%end%>
        </div>
        <div class="row tbl_row" style="border: none;">
          <div class="col-12 text-center p-2 tbl_footer">
            <%= link_to_add_association ' + Agregar Incapacidad', form, :disabilities, data: { association_insertion_mode: '.disability.fields', partial: 'disability_fields'}, class: 'btn add_btn' %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row form_fieldset">
    <div  class="col-12 mt-4 p-3">
      <legend>Movimientos Automáticos</legend>
    </div>
    <div class="col-12">
      <div class="col-12">
        <div class="row tbl_row mt-4">
          <%= form.fields_for :movements do |movement| %>
            <%= render 'admin/employees/movement_fields', f: movement %>
          <%end%>
        </div>
        <div class="row tbl_row" style="border: none;">
          <div class="col-12 text-center p-2 tbl_footer">
            <%= link_to_add_association ' + Agregar Movimiento', form, :movements, data: { association_insertion_mode: '.movement.fields', partial: 'movement_fields'}, class: 'btn add_btn' %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row form_fieldset mb-4">
    <div  class="col-12 mt-4 mb-4 p-3">
      <legend>Información de Vacaciones</legend>
    </div>
    <div id="table" class="table-responsive pl-3 pr-3">
      <table class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead class="thead-dark">
          <tr>
            <th style="border: 1px solid" scope="col">Días Totales</th>
            <th style="border: 1px solid" scope="col">Días Utilizados</th>
            <th style="border: 1px solid" scope="col">Días Disponibles:</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td id="total_days_th"     style="border: 1px solid"><%= @employee.total_vacations_days %></td>
            <td id="used_days_th"      style="border: 1px solid"><%= @employee.used_vacations_days %></td>
            <td id="available_days_th" style="border: 1px solid"><%= @employee.available_vacations_days %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row form_fieldset mb-4">
    <div  class="col-12 mt-4 mb-4">
      <legend>Agregar Vacaciones</legend>
    </div>
    <div class="col-12">
      <div class="col-12">
        <div class="row tbl_row mt-4">
          <%= form.fields_for :vacations do |vacation| %>
            <%= render 'admin/employees/vacation_fields', f: vacation %>
          <%end%>
        </div>
        <div class="row tbl_row" style="border: none;">
          <div class="col-12 text-center p-2 tbl_footer">
            <%= link_to_add_association ' + Agregar Vacación', form, :vacations, data: { association_insertion_mode: '.vacation.fields', partial: 'vacation_fields'}, class: 'btn add_btn' %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%= form.submit "Guardar", id: 'btn_submit', class: "btn btn-success mt-4" %>
  <%= link_to('Cancelar', admin_employees_path, class: 'btn btn-light ml-sm-3 mt-4')%>
</div>
<script type="text/javascript">
  onInput("name");
  onInput("identification");
  onInput("selectRole");
  onInput("stalls");
  onInput("payment_method");
  onInput("bank");
  onInput("account");
  onInput("social_security");
</script>